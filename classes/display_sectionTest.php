<?php

require_once dirname(__DIR__, 5) . "/phpunit/phpunit.phar";

require_once dirname(__DIR__, 3) . "/config/config.php";

use PHPUnit\Framework\TestCase;

class display_sectionTest extends TestCase
{
    public function setUp(): void
    {
        parent::setUp(); // TODO: Change the autogenerated stub
    }

    /**
     * @dataProvider buildLinkTagProvider
     */
    public function testBuildLinkTag(array $attribs, string $expected)
    {
        $actual = display_section::buildLinkTag($attribs);
        self::assertEquals($expected, $actual);
    }

    public function buildLinkTagProvider(): array
    {
        return [
            'only href' => [
                'attribs' => [
                    'href' => "http://localhost:8080/projekte/LEPTON_5/upload/templates/workbench/css/template.css",
                    'media' => "print"
                ],
                'expected' => "\n"
                    . '<!-- build css-link by trait -->'
                    . "\n"
                    . '<link href="http://localhost:8080/projekte/LEPTON_5/upload/templates/workbench/css/template.css" media="print" rel="stylesheet" type="text/css">'
                    . "\n"
            ],
            'add attribs' => [
                'attribs' => [
                    'data-default' => "data-default is added",
                    'data-text' => "any text is added",
                    'media' => "is overwritten"
                ],
                'expected' => "\n"
                    . '<!-- build css-link by trait -->'
                    . "\n"
                    . '<link data-default="data-default is added" data-text="any text is added" media="is overwritten" rel="stylesheet" type="text/css">'
                    . "\n"
            ]
        ];
    }
}
